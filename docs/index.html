<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Deficiency Decision Tool (POC)</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <header class="app-header">
    <div class="app-title">
      <h1>Deficiency Decision Tool (POC)</h1>
      <div class="sub">Question-based wizard (decision packs). Manual on left.</div>
    </div>

    <div class="app-controls">
      <label class="control">
        Start Pack
        <select id="packSelect">
          <option value="figure1" selected>Figure 1 — Classification</option>
          <option value="figure2">Figure 2 — Failure Type / OMF</option>
        </select>
      </label>

      <button id="btnStartOver" class="btn secondary">Start Over</button>

      <!-- ==========================================
           Document Generation (Upper Right)
           - Deficiency Sheet uses existing JS handler (#btnGoReport)
           - OPCON/TACON are direct links to demo pages
           ========================================== -->
      <button id="btnGoReport" class="btn secondary" title="Opens deficiency sheet builder">
        Generate Deficiency Sheet
      </button>

      <a href="./opcon-demo.html"
         class="btn secondary"
         role="button"
         title="Open OPCON sample page">
        Generate OPCON
      </a>

      <a href="./tacon-demo.html"
         class="btn secondary"
         role="button"
         title="Open TACON sample page">
        Generate TACON
      </a>
    </div>
  </header>

  <main class="layout-2col">
    <!-- LEFT: Manual (full-height) -->
    <section class="manual card" aria-label="Manual Panel">
      <div class="manual-head">
        <h2>Manual</h2>
        <div class="manual-sub" id="manualStatus">Loading front matter…</div>
      </div>
      <div id="manualBody" class="manual-body">
        <!-- Filled by JS from /docs/manual/front-matter.html -->
      </div>
    </section>

    <!-- RIGHT: Split vertically (questions top / notes bottom) -->
    <section class="right-col">
      <section class="wizard card" aria-label="Wizard Panel">
        <div id="screen" class="screen"></div>
        <div class="nav">
          <button id="btnBack" class="btn secondary" disabled>Back</button>
          <div class="nav-right">
            <button id="btnReset" class="btn secondary">Reset</button>
          </div>
        </div>
      </section>

      <section class="notes card" aria-label="Notes Panel">
        <div class="notes-head">
          <h2>Notes / Directives</h2>
          <div class="notes-sub" id="notesMeta">Context for the current step</div>
        </div>
        <div id="notesBody" class="notes-body">
          <div class="hint">Notes, directives, and “read first” content will appear here as you progress.</div>
        </div>
      </section>

      <!-- Debug-only trace container (hidden unless ?debug=1) -->
      <section id="debugTraceWrap" class="debug card" aria-label="Debug Trace" hidden>
        <div class="debug-head">
          <h2>Debug Trace</h2>
          <div class="debug-sub" id="traceMeta"></div>
        </div>
        <pre id="trace" class="trace"></pre>
      </section>
    </section>
  </main>

  <footer class="app-footer">
    <div class="small">
      This interface is question-based. Underlying flow diagrams and trace are not shown to end users.
    </div>
  </footer>

  <script src="./js/app.js"></script>
</body>
</html>
